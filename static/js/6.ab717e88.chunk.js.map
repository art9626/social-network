{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","assets/images/user-icon.jpeg","components/Users/UserCard/UserCard.module.css","components/common/Pagination/Pagination.module.css","components/Users/UserCard/UserCard.tsx","components/Users/Users.tsx","redux/usersSelecrors.ts","components/common/Pagination/Pagination.tsx","components/Users/Search/Search.tsx","components/Users/UsersContainer.tsx","hoc/withSearchParams.tsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","module","exports","UserCard","user","unfollow","follow","followingInProgress","isAuth","onFollowUnfollow","method","id","to","className","classes","userIcon","src","photos","small","alt","name","followed","disabled","some","onClick","Users","users","errorMessage","map","item","getUsers","state","usersPage","items","getPageSize","pageSize","getTotalCount","totalCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","getErrorMessages","errorMessages","getFilter","filter","Pagination","portionSize","getUsersList","useSearchParams","setSearchParams","pagesCount","Math","ceil","pages","push","portionCount","initialPortionNumber","floor","useState","portionNumber","setPortionNumber","leftSidePageNumber","rightSidePageNumber","pagination","paginationList","classNames","pageItem","selectedPage","page","String","term","React","memo","Search","setFilter","setCurrentPage","searchValue","setSearchValue","useEffect","onSubmit","e","preventDefault","value","onChange","type","UsersContainer","this","props","prevProps","Preloader","onFollowUnfollowErrorMessage","Component","connector","connect","getIsAuth","actions","compose","WrappedComponent","searchParams","termParam","get","pageParam"],"mappings":"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","file":"static/js/6.ab717e88.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default __webpack_public_path__ + \"static/media/user-icon.506e3070.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userIcon\":\"UserCard_userIcon__3X0ty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1KkdA\",\"paginationList\":\"Pagination_paginationList__2NJHl\",\"pageItem\":\"Pagination_pageItem__2MtXm\",\"selectedPage\":\"Pagination_selectedPage__CblSr\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classes from './UserCard.module.css'\nimport userIcon from '../../../assets/images/user-icon.jpeg'\nimport { UserType } from '../../../redux/usersPageReducer';\nimport { IsAuthType } from '../../../redux/authReducer';\n\ntype UserCardPropsType = {\n  user: UserType;\n  unfollow: (id: number) => void;\n  follow: (id: number) => void;\n  followingInProgress: Array<number>;\n  isAuth: IsAuthType;\n}\n\nconst UserCard: React.FC<UserCardPropsType> = ({ \n  user, \n  unfollow, \n  follow, \n  followingInProgress, \n  isAuth, \n}) => {\n\n  const onFollowUnfollow = (method: (id: number) => void) => {\n    method(user.id)\n  }\n\n  const onFollow = () => {\n    onFollowUnfollow(follow);\n  }\n\n  const onUnfollow = () => {\n    onFollowUnfollow(unfollow);\n  }\n\n\n  return (\n    <li>\n      <NavLink to={`/profile/${user.id}`}>\n        <img className={classes.userIcon} src={user.photos.small ? user.photos.small : userIcon} alt=\"\" />\n      </NavLink>\n      \n      <span>{user.name}</span>\n\n      <div>\n        {\n          isAuth === 'authorized' &&\n          (user.followed\n            ? <button\n              disabled={followingInProgress.some(id => id === user.id)}\n              onClick={onUnfollow}\n            >\n              Unfollow\n            </button>\n\n            : <button\n              disabled={followingInProgress.some(id => id === user.id)}\n              onClick={onFollow}\n            >\n              Follow\n            </button>)\n        }\n      </div>\n    </li>\n  );\n}\n\nexport default UserCard;","import React from \"react\";\nimport { IsAuthType } from \"../../redux/authReducer\";\nimport { UserType } from \"../../redux/usersPageReducer\";\nimport UserCard from \"./UserCard/UserCard\";\n\nexport type UsersPropsType = {\n  users: Array<UserType>;\n  unfollow: (id: number) => void;\n  follow: (id: number) => void;\n  followingInProgress: Array<number>;\n  isAuth: IsAuthType;\n  errorMessage: string | null;\n}\n\n\nconst Users: React.FC<UsersPropsType> = ({ users, unfollow, follow, followingInProgress, isAuth, errorMessage }) => {\n\n  return (\n    <div>\n      {\n        errorMessage ? <div>{errorMessage}</div> : null\n      }\n      <ul>\n        {users.map((item: UserType) => {\n          return (\n            <UserCard\n              key={item.id}\n              user={item}\n              unfollow={unfollow}\n              follow={follow}\n              followingInProgress={followingInProgress}\n              isAuth={isAuth}\n            />\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport default Users;","import { RootStateType } from './reduxStore';\n\n\nexport const getUsers = (state: RootStateType) => state.usersPage.items;\n\nexport const getPageSize = (state: RootStateType) => state.usersPage.pageSize;\n\nexport const getTotalCount = (state: RootStateType) => state.usersPage.totalCount;\n\nexport const getCurrentPage = (state: RootStateType) => state.usersPage.currentPage;\n\nexport const getIsFetching = (state: RootStateType) => state.usersPage.isFetching;\n\nexport const getFollowingInProgress = (state: RootStateType) => state.usersPage.followingInProgress;\n\nexport const getErrorMessages = (state: RootStateType) => state.usersPage.errorMessages;\n\nexport const getFilter = (state: RootStateType) => state.usersPage.filter;","import React, { useState } from 'react';\nimport classes from './Pagination.module.css'\nimport classNames from 'classnames';\nimport { useSearchParams } from 'react-router-dom';\nimport { FilterType } from '../../../redux/usersPageReducer';\n\ntype PaginationPropsType = {\n  getUsersList: (pageSize: number, currentPage: number, searchValue?: string | undefined) => void;\n  totalCount: number;\n  pageSize: number;\n  currentPage: number;\n  portionSize?: number;\n  filter: FilterType;\n}\n\nconst Pagination: React.FC<PaginationPropsType> = ({ totalCount, pageSize, currentPage, portionSize = 10, getUsersList, filter }) => {\n\n  const [searchParams, setSearchParams] = useSearchParams()\n\n\n  const onPageClick = (page: number) => {\n    setSearchParams({ ...filter, page: String(page) })\n    if (filter.term) {\n      getUsersList(pageSize, page, filter.term)\n    } else {\n      getUsersList(pageSize, page)\n    }\n  };\n\n  const pagesCount = Math.ceil(totalCount / pageSize);\n  const pages: Array<number> = [];\n\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  const portionCount = Math.ceil(pagesCount / portionSize);\n  const initialPortionNumber = Math.floor((currentPage - 1) / portionSize) + 1;\n  const [portionNumber, setPortionNumber] = useState(initialPortionNumber);\n  const leftSidePageNumber = (portionNumber - 1) * portionSize + 1;\n  const rightSidePageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={classes.pagination}>\n      {\n        portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>\n      }\n\n      <ul className={classes.paginationList}>\n        {pages\n          .filter(item => item >= leftSidePageNumber && item <= rightSidePageNumber)\n          .map(item => {\n            return (\n              <li\n                key={item}\n                className={classNames(classes.pageItem, { [classes.selectedPage]: item === currentPage } )}\n                onClick={() => onPageClick(item)}\n              >\n                {item}\n              </li>\n            );\n          })}\n      </ul>\n\n      {\n        portionNumber < portionCount && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>\n      }\n    </div>\n  )\n\n\n}\n\nexport default React.memo(Pagination);","import React, { ChangeEvent, FormEvent, MouseEvent, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { FilterType, SetCurrentPageType, SetFilterType } from '../../../redux/usersPageReducer';\n\n\ntype SearchPropsType = {\n  filter: FilterType;\n  setFilter: SetFilterType;\n  setCurrentPage: SetCurrentPageType;\n}\n\n\nconst Search: React.FC<SearchPropsType> = ({ filter, setFilter, setCurrentPage }) => {\n\n  const [searchValue, setSearchValue] = useState('')\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    setSearchValue(filter.term);\n  }, []);\n\n  const onSubmitHandler = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (searchValue) {\n      setSearchParams({ term: searchValue });\n    } else {\n      setSearchParams({});\n    }\n    setCurrentPage(1);\n    setFilter({ term: searchValue });\n  };\n\n  const onChangeSearchValue = (e: ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(e.target.value);\n  }\n\n  const onClearSearchValue = (e: MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    setSearchValue('');\n    setSearchParams({});\n    setFilter({ term: '' });\n    setCurrentPage(1);\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmitHandler}>\n        <input value={searchValue} onChange={onChangeSearchValue} type='text' name='search' />\n        <button type='submit'>Find</button>\n        <button onClick={onClearSearchValue} disabled={searchValue ? false : true}>Clear</button>\n      </form>\n    </div>\n  )\n}\n\nexport default React.memo(Search);","import React from \"react\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport { actions, FilterType, follow, getUsersList, unfollow } from \"../../redux/usersPageReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { getCurrentPage, getErrorMessages, getFilter, getFollowingInProgress, getIsFetching, getPageSize, getTotalCount, getUsers } from \"../../redux/usersSelecrors\";\nimport Pagination from \"../common/Pagination/Pagination\";\nimport Search from \"./Search/Search\";\nimport { RootStateType } from \"../../redux/reduxStore\";\nimport { getIsAuth } from \"../../redux/authSelecrors\";\nimport { compose } from \"redux\";\nimport { withSearchParams } from \"../../hoc/withSearchParams\";\n\ntype PropsType = ConnectedProps<typeof connector>;\n\n\nclass UsersContainer extends React.Component<PropsType> {\n\n  componentDidMount() {\n    if (this.props.filter) {\n      const { pageSize, currentPage, filter } = this.props;\n      this.props.getUsersList(pageSize, currentPage, filter.term);\n    }\n  }\n\n  componentDidUpdate(prevProps: PropsType) {\n    if (this.props.filter) {\n      if (prevProps.filter !== this.props.filter) {\n        const { pageSize, currentPage, filter } = this.props;\n        this.props.getUsersList(pageSize, currentPage, filter.term);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Search\n          filter={this.props.filter as FilterType}\n          setFilter={this.props.setFilter}\n          setCurrentPage={this.props.setCurrentPage}\n        />\n        <Pagination\n          getUsersList={this.props.getUsersList}\n          totalCount={this.props.totalCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          portionSize={20}\n          filter={this.props.filter as FilterType}\n        />\n\n        {\n          this.props.isFetching\n            ? <Preloader />\n            : <Users\n              users={this.props.users}\n              followingInProgress={this.props.followingInProgress}\n              follow={this.props.follow}\n              unfollow={this.props.unfollow}\n              isAuth={this.props.isAuth}\n              errorMessage={this.props.errorMessages.onFollowUnfollowErrorMessage}\n            />\n        }\n      </>\n    )\n  }\n}\n\n\n\n\nconst mapStateToProps = (state: RootStateType) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalCount: getTotalCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n    isAuth: getIsAuth(state),\n    errorMessages: getErrorMessages(state),\n    filter: getFilter(state),\n  }\n}\n\n\nconst connector = connect(mapStateToProps, {\n  follow,\n  unfollow,\n  getUsersList,\n  setFilter: actions.setFilter,\n  setCurrentPage: actions.setCurrentPage,\n})\n\n\n\n\nexport default compose<React.ComponentType>(\n  connector,\n  withSearchParams\n)(UsersContainer)","import React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { FilterType, SetCurrentPageType, SetFilterType } from '../redux/usersPageReducer';\n\n\nexport const withSearchParams = <P extends {filter: FilterType | null, setFilter: SetFilterType, setCurrentPage: SetCurrentPageType}>(WrappedComponent: React.ComponentType<P>) => {\n  const WithSearchParamsComponent: React.FC<Omit<P, 'FilterType' | 'SetFilterType' | 'SetCurrentPageType'>> = (\n    { \n      filter, \n      setFilter, \n      setCurrentPage, \n      ...props \n    }) => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const termParam = searchParams.get('term') || '';\n    const pageParam = searchParams.get('page');\n  \n    if (!filter) {\n      setFilter({ term: termParam });\n      if (pageParam) {\n        setCurrentPage(+pageParam)\n      }\n      return null;\n    } else {\n      return <WrappedComponent {...props as P} filter={filter} setFilter={setFilter} setCurrentPage={setCurrentPage} />;\n    }\n  }\n\n  return WithSearchParamsComponent;\n}\n"],"sourceRoot":""}