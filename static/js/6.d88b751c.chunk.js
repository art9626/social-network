/*! For license information please see 6.d88b751c.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{348:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)){if(r.length){var s=i.apply(null,r);s&&e.push(s)}}else if("object"===c)if(r.toString===Object.prototype.toString)for(var o in r)n.call(r,o)&&r[o]&&e.push(o);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},356:function(e,t,n){"use strict";n(0);var r=n(357),i=n.n(r),c=n(2);t.a=function(){return Object(c.jsxs)("div",{className:i.a.ldsRipple,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}},357:function(e,t,n){e.exports={ldsRipple:"Preloader_ldsRipple__39kqY"}},359:function(e,t,n){"use strict";t.a=n.p+"static/media/user-icon.506e3070.jpeg"},422:function(e,t,n){e.exports={userIcon:"UserCard_userIcon__3X0ty"}},423:function(e,t,n){e.exports={pagination:"Pagination_pagination__1KkdA",paginationList:"Pagination_paginationList__2NJHl",pageItem:"Pagination_pageItem__2MtXm",selectedPage:"Pagination_selectedPage__CblSr"}},437:function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(0),c=n.n(i),s=n(31),o=n(117),a=n(356),l=function(e){return e.usersPage.items},u=function(e){return e.usersPage.pageSize},j=function(e){return e.usersPage.totalCount},f=function(e){return e.usersPage.currentPage},d=function(e){return e.usersPage.isFetching},b=function(e){return e.usersPage.followingInProgress},g=function(e){return e.usersPage.errorMessages},p=function(e){return e.usersPage.filter},O=n(360),m=n(2),x=c.a.memo((function(e){var t=e.setFilter,n=e.filter;return Object(m.jsx)(O.e,{initialValues:{search:n.term,friend:String(n.friend)},onSubmit:function(e,n){var r=e.search,i=e.friend,c=n.setSubmitting;t({term:r,friend:"true"===i||"false"!==i&&null},1),c(!1)},children:function(e){var n=e.isSubmitting,r=e.setFieldValue;return Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{type:"text",name:"search",autoComplete:"off"}),Object(m.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)(O.b,{type:"radio",name:"friend",value:"true"}),"followed"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)(O.b,{type:"radio",name:"friend",value:"false"}),"unfollowed"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)(O.b,{type:"radio",name:"friend",value:"null"}),"all"]})]}),Object(m.jsx)("button",{type:"submit",disabled:n,children:"Find"}),Object(m.jsx)("button",{onClick:function(e){return function(e,n){e.preventDefault(),n("search",""),n("friend","null"),t({term:"",friend:null},1)}(e,r)},children:"Clear"})]})}})})),h=n(50),v=n(38),P=n(422),w=n.n(P),y=n(359),_=c.a.memo((function(e){var t=e.user,n=e.unfollow,r=e.follow,i=e.followingInProgress,c=e.isAuth,s=function(e){e(t.id)};return Object(m.jsxs)("li",{children:[Object(m.jsx)(v.c,{to:"/profile/".concat(t.id),children:Object(m.jsx)("img",{className:w.a.userIcon,src:t.photos.small?t.photos.small:y.a,alt:""})}),Object(m.jsx)("span",{children:t.name}),Object(m.jsx)("div",{children:"authorized"===c&&(t.followed?Object(m.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){s(n)},children:"Unfollow"}):Object(m.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){s(r)},children:"Follow"}))})]})})),C=c.a.memo((function(){var e=Object(s.d)(l),t=Object(s.d)(b),n=Object(s.d)(h.c),r=Object(s.d)(g),i=Object(s.c)(),c=function(e){return i(Object(o.c)(e))},a=function(e){return i(Object(o.e)(e))};return Object(m.jsxs)("div",{children:[r.onFollowUnfollowErrorMessage?Object(m.jsx)("div",{children:r.onFollowUnfollowErrorMessage}):null,Object(m.jsx)("ul",{children:e.map((function(e){return Object(m.jsx)(_,{user:e,unfollow:a,follow:c,followingInProgress:t,isAuth:n},e.id)}))})]})})),S=n(9),F=n(423),k=n.n(F),I=n(348),M=n.n(I),N=c.a.memo((function(e){for(var t=e.totalCount,n=e.pageSize,c=e.currentPage,s=e.portionSize,o=void 0===s?10:s,a=e.setCurrentPage,l=(e.filter,Math.floor((c-1)/o)+1),u=Object(i.useState)(l),j=Object(r.a)(u,2),f=j[0],d=j[1],b=Math.ceil(t/n),g=[],p=1;p<=b;p++)g.push(p);var O=Math.ceil(b/o),x=(f-1)*o+1,h=f*o;return Object(m.jsx)(m.Fragment,{children:b>1?Object(m.jsxs)("div",{className:k.a.pagination,children:[f>1&&Object(m.jsx)("button",{onClick:function(){return d(f-1)},children:"PREV"}),Object(m.jsx)("ul",{className:k.a.paginationList,children:g.filter((function(e){return e>=x&&e<=h})).map((function(e){return Object(m.jsx)("li",{className:M()(k.a.pageItem,Object(S.a)({},k.a.selectedPage,e===c)),onClick:function(){a(e)},children:e},e)}))}),f<O&&Object(m.jsx)("button",{onClick:function(){return d(f+1)},children:"NEXT"})]}):null})})),z=c.a.memo((function(){var e=Object(v.d)(),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(s.d)(p),b=Object(s.d)(j),g=Object(s.d)(u),O=Object(s.d)(f),h=Object(s.d)(d),P=Object(s.c)(),w=function(e,t){return P(o.a.setFilter(e,t))};return Object(i.useEffect)((function(){if(l){!function(e,t,n,r){P(Object(o.d)(e,t,n,r))}(g,O,l.term,l.friend);var e={};l.term&&(e.term=l.term),"boolean"===typeof l.friend&&(e.friend=String(l.friend)),O>1&&(e.page=String(O)),c(e)}}),[l,O]),Object(i.useEffect)((function(){if(!l){var e=n.get("term")||"",t="true"===n.get("friend")||"false"!==n.get("friend")&&null,r=n.get("page")||"1";w({term:e,friend:t},+r)}return function(){w({term:"",friend:null},1)}}),[]),Object(m.jsx)(m.Fragment,{children:l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{filter:l,setFilter:w}),h?Object(m.jsx)(a.a,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N,{totalCount:b,pageSize:g,currentPage:O,setCurrentPage:function(e){return P(o.a.setCurrentPage(e))},portionSize:20,filter:l}),Object(m.jsx)(C,{})]})]}):null})}));t.default=z}}]);
//# sourceMappingURL=6.d88b751c.chunk.js.map