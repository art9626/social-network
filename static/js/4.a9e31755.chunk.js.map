{"version":3,"sources":["components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["Textarea","input","meta","touched","error","props","className","classes","formControl","formControlTextarea","errorMessage","Input","type","label","inputTypeClass","formControlCheckbox","formControlInput","module","exports","max","maxLength300","value","length","undefined","required","WithAuthRedirect","Component","connect","state","isAuth","auth","userId","to","DialogItem","item","id","name","Message","classFrom","message","from","classTo","status","text","reduxForm","form","handleSubmit","onSubmit","Field","component","placeholder","validate","Dialogs","sendMessage","dialogs","messages","resetForm","dialogsElements","map","messagesElements","list","messagesContainer","values","newMessage","compose","dialogsPage","dispatch","sendMessageAC","formName","reset"],"mappings":"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","file":"static/js/4.a9e31755.chunk.js","sourcesContent":["import React from 'react';\nimport classes from './FormControls.module.css'\n\n\nexport const Textarea = ({ input, meta: { touched, error }, ...props }) => {\n  return (\n    <div className={classes.formControl}>\n      <textarea\n        {...input}\n        {...props}\n        className={touched && error ? `${classes.error} ${classes.formControlTextarea}` : classes.formControlTextarea}>\n      </textarea>\n      {touched && (error && <span className={classes.errorMessage}> {error} </span>)}\n    </div>\n  );\n}\n\nexport const Input = ({ input, meta: { touched, error }, type, label }) => {\n  const inputTypeClass = type === 'checkbox' ? classes.formControlCheckbox : classes.formControlInput;\n\n  return (\n    <div className={classes.formControl}>\n      <label>{label}</label>\n      <input\n        type={type}\n        {...input}\n        className={touched && error ? `${classes.error} ${inputTypeClass}` : inputTypeClass}\n      />\n\n\n      {/* {\n        type === 'checkbox'\n          ? <input\n            type={type}\n            {...input}\n            className={touched && error ? `${classes.error} ${inputTypeClass}` : inputTypeClass}\n            checked={true}\n          />\n          : <input\n            type={type}\n            {...input}\n            className={touched && error ? `${classes.error} ${inputTypeClass}` : inputTypeClass}\n          />\n      } */}\n\n\n\n      {touched && (error && <span className={classes.errorMessage}> {error} </span>)}\n    </div>\n  );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2axsW\",\"formControlTextarea\":\"FormControls_formControlTextarea__5AIlH\",\"formControlInput\":\"FormControls_formControlInput__gNBr0\",\"formControlCheckbox\":\"FormControls_formControlCheckbox__2ILOp\",\"error\":\"FormControls_error__24y5C\",\"errorMessage\":\"FormControls_errorMessage__NDl_o\"};","\nconst maxLength = (max) => {\n  return (value) => value && value.length > max ? `Max length is ${max} symbols` : undefined;\n}\n\n\n\nexport const maxLength300 = maxLength(300);\n\nexport const required = (value) => value ? undefined : 'Field is required';\n","import { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nexport const WithAuthRedirect = (Component) => {\n  \n  const AuthRedirectComponent = (props) => {\n\n    // console.log('redirect');\n\n    if (props.isAuth === 'notAuthorized' && !props.userId) {\n      return <Navigate to='/login' />\n    };\n\n    return <Component {...props} />;\n  }\n\n\n  const mapStateToProps = (state) => {\n    return {\n      isAuth: state.auth.isAuth,\n    }\n  }\n\n\n  return connect(mapStateToProps)(AuthRedirectComponent);;\n}\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1MOXo\",\"from\":\"Message_from__215MN\",\"to\":\"Message_to__3TBUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"messagesContainer\":\"Dialogs_messagesContainer__eYApo\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classes from './DialogsItem.module.css'\n\n\nconst DialogItem = props => {\n  return (\n    <li className={classes.item}>\n      <NavLink to={`/dialogs/${props.id}`}>\n        {props.name}\n      </NavLink>\n    </li>\n  );\n}\n\nexport default DialogItem;","import React from 'react';\nimport classes from './Message.module.css'\n\n\nconst Message = props => {\n  const classFrom = `${classes.message} ${classes.from}`;\n  const classTo = `${classes.message} ${classes.to}`;\n\n\n  return (\n    <div className={props.status === 'from' ? classFrom : classTo} >\n      {props.text}\n    </div>\n  )\n}\n\nexport default Message;","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { required } from '../../../utils/validators/validators';\nimport { Textarea } from '../../common/FormControls/FormControls';\n\nconst AddMessageForm = ({ handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <Field\n        name='newMessage'\n        component={Textarea}\n        placeholder='Enter your message'\n        validate={[required]}\n      />\n      <button>Send</button>\n    </form>\n  )\n};\n\nexport default reduxForm({ form: 'dialogsAddMessageForm' })(AddMessageForm);","import React from 'react';\nimport DialogItem from './DialogItem/DialogsItem';\nimport Message from './Message/Message';\nimport classes from './Dialogs.module.css';\nimport AddMessageForm from './AddMessageForm/AddMessageForm';\n\nconst Dialogs = ({ sendMessage, dialogs, messages, resetForm }) => {\n\n  const dialogsElements = dialogs\n    .map(item => <DialogItem key={item.id} name={item.name} id={item.id} />)\n  const messagesElements = messages\n    .map(item => <Message key={item.id} text={item.message} status={item.status} />)\n\n\n  const addNewMessage = (values) => {\n    sendMessage(values.newMessage)\n    resetForm('dialogsAddMessageForm')\n  }\n\n  return (\n    <div className={classes.dialogs}>\n      <ul className={classes.list}>\n        {dialogsElements}\n      </ul>\n\n      <div className={classes.messagesContainer}>\n        {messagesElements}\n\n        <AddMessageForm onSubmit={addNewMessage} />\n      </div>\n    </div>\n  );\n}\n\nexport default Dialogs;","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { reset } from 'redux-form';\nimport { WithAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { sendMessageAC } from '../../redux/dialogsPageReducer';\nimport Dialogs from './Dialogs';\n\n\nconst mapStateToProps = state => {\n  return {\n    dialogs: state.dialogsPage.dialogs,\n    messages: state.dialogsPage.messages,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (text) => dispatch(sendMessageAC(text)),\n    resetForm: (formName) => dispatch(reset(formName)),\n  }\n}\n\n// const AuthRedirectComponent= WithAuthRedirect(Dialogs);\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\n// export default DialogsContainer;\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  WithAuthRedirect\n)(Dialogs);\n\n"],"sourceRoot":""}