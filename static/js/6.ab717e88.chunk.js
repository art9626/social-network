(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{235:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}r.d(t,"a",(function(){return n}))},243:function(e,t,r){"use strict";t.a=r.p+"static/media/user-icon.506e3070.jpeg"},304:function(e,t,r){e.exports={userIcon:"UserCard_userIcon__3X0ty"}},305:function(e,t,r){e.exports={pagination:"Pagination_pagination__1KkdA",paginationList:"Pagination_paginationList__2NJHl",pageItem:"Pagination_pageItem__2MtXm",selectedPage:"Pagination_selectedPage__CblSr"}},312:function(e,t,r){"use strict";r.r(t);var n=r(18),s=r(50),i=r(19),o=r(20),c=r(0),a=r.n(c),u=r(26),l=r(84),f=r(15),p=r(304),g=r.n(p),j=r(243),b=r(1),h=function(e){var t=e.user,r=e.unfollow,n=e.follow,s=e.followingInProgress,i=e.isAuth,o=function(e){e(t.id)};return Object(b.jsxs)("li",{children:[Object(b.jsx)(f.b,{to:"/profile/".concat(t.id),children:Object(b.jsx)("img",{className:g.a.userIcon,src:t.photos.small?t.photos.small:j.a,alt:""})}),Object(b.jsx)("span",{children:t.name}),Object(b.jsx)("div",{children:"authorized"===i&&(t.followed?Object(b.jsx)("button",{disabled:s.some((function(e){return e===t.id})),onClick:function(){o(r)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:s.some((function(e){return e===t.id})),onClick:function(){o(n)},children:"Follow"}))})]})},O=function(e){var t=e.users,r=e.unfollow,n=e.follow,s=e.followingInProgress,i=e.isAuth,o=e.errorMessage;return Object(b.jsxs)("div",{children:[o?Object(b.jsx)("div",{children:o}):null,Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsx)(h,{user:e,unfollow:r,follow:n,followingInProgress:s,isAuth:i},e.id)}))})]})},d=r(41),m=function(e){return e.usersPage.items},P=function(e){return e.usersPage.pageSize},x=function(e){return e.usersPage.totalCount},v=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isFetching},C=function(e){return e.usersPage.followingInProgress},y=function(e){return e.usersPage.errorMessages},S=function(e){return e.usersPage.filter},F=r(13),_=r(3),I=r(29),k=r(305),M=r.n(k),z=r(30),U=r.n(z),L=function(e){for(var t=e.totalCount,r=e.pageSize,n=e.currentPage,s=e.portionSize,i=void 0===s?10:s,o=e.getUsersList,a=e.filter,u=Object(f.c)(),l=Object(I.a)(u,2),p=(l[0],l[1]),g=Math.ceil(t/r),j=[],h=1;h<=g;h++)j.push(h);var O=Math.ceil(g/i),d=Math.floor((n-1)/i)+1,m=Object(c.useState)(d),P=Object(I.a)(m,2),x=P[0],v=P[1],w=(x-1)*i+1,C=x*i;return Object(b.jsxs)("div",{className:M.a.pagination,children:[x>1&&Object(b.jsx)("button",{onClick:function(){return v(x-1)},children:"PREV"}),Object(b.jsx)("ul",{className:M.a.paginationList,children:j.filter((function(e){return e>=w&&e<=C})).map((function(e){return Object(b.jsx)("li",{className:U()(M.a.pageItem,Object(F.a)({},M.a.selectedPage,e===n)),onClick:function(){return t=e,p(Object(_.a)(Object(_.a)({},a),{},{page:String(t)})),void(a.term?o(r,t,a.term):o(r,t));var t},children:e},e)}))}),x<O&&Object(b.jsx)("button",{onClick:function(){return v(x+1)},children:"NEXT"})]})},A=a.a.memo(L),N=function(e){var t=e.filter,r=e.setFilter,n=e.setCurrentPage,s=Object(c.useState)(""),i=Object(I.a)(s,2),o=i[0],a=i[1],u=Object(f.c)(),l=Object(I.a)(u,2),p=(l[0],l[1]);Object(c.useEffect)((function(){a(t.term)}),[]);return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(o?{term:o}:{}),n(1),r({term:o})},children:[Object(b.jsx)("input",{value:o,onChange:function(e){a(e.target.value)},type:"text",name:"search"}),Object(b.jsx)("button",{type:"submit",children:"Find"}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),a(""),p({}),r({term:""}),n(1)},disabled:!o,children:"Clear"})]})})},E=a.a.memo(N),D=r(63),J=r(37),X=r(235),H=["filter","setFilter","setCurrentPage"],K=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"componentDidMount",value:function(){if(this.props.filter){var e=this.props,t=e.pageSize,r=e.currentPage,n=e.filter;this.props.getUsersList(t,r,n.term)}}},{key:"componentDidUpdate",value:function(e){if(this.props.filter&&e.filter!==this.props.filter){var t=this.props,r=t.pageSize,n=t.currentPage,s=t.filter;this.props.getUsersList(r,n,s.term)}}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(E,{filter:this.props.filter,setFilter:this.props.setFilter,setCurrentPage:this.props.setCurrentPage}),Object(b.jsx)(A,{getUsersList:this.props.getUsersList,totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,portionSize:20,filter:this.props.filter}),this.props.isFetching?Object(b.jsx)(d.a,{}):Object(b.jsx)(O,{users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,isAuth:this.props.isAuth,errorMessage:this.props.errorMessages.onFollowUnfollowErrorMessage})]})}}]),r}(a.a.Component),R=Object(u.b)((function(e){return{users:m(e),pageSize:P(e),totalCount:x(e),currentPage:v(e),isFetching:w(e),followingInProgress:C(e),isAuth:Object(D.c)(e),errorMessages:y(e),filter:S(e)}}),{follow:l.c,unfollow:l.e,getUsersList:l.d,setFilter:l.a.setFilter,setCurrentPage:l.a.setCurrentPage});t.default=Object(J.d)(R,(function(e){return function(t){var r=t.filter,n=t.setFilter,s=t.setCurrentPage,i=Object(X.a)(t,H),o=Object(f.c)(),c=Object(I.a)(o,2),a=c[0],u=(c[1],a.get("term")||""),l=a.get("page");return r?Object(b.jsx)(e,Object(_.a)(Object(_.a)({},i),{},{filter:r,setFilter:n,setCurrentPage:s})):(n({term:u}),l&&s(+l),null)}}))(K)}}]);
//# sourceMappingURL=6.ab717e88.chunk.js.map