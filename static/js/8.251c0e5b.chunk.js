(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{368:function(e,t,n){"use strict";n(0);var c=n(369),i=n.n(c),s=n(1);t.a=function(){return Object(s.jsxs)("div",{className:i.a.ldsRipple,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},369:function(e,t,n){e.exports={ldsRipple:"Preloader_ldsRipple__39kqY"}},371:function(e,t,n){"use strict";t.a=n.p+"static/media/user-icon.506e3070.jpeg"},459:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(33),r=n(15),o=n(51),a=n(115),l=n(368),j=n(373),u=n(1),b=function(e){var t=e.initialValues,n=e.deactiveEditMode,c=e.setProfileData;return Object(u.jsx)(j.e,{initialValues:t,onSubmit:function(e,t){var n=t.setSubmitting;c(e),n(!1)},validate:function(e){var t={};e.fullName||(t.fullName="The FullName field is required"),e.aboutMe||(t.aboutMe="The AboutMe field is required");var n=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;return Object.keys(e.contacts).forEach((function(c){e.contacts[c]&&!n.test(e.contacts[c])&&(t.contacts||(t.contacts={}),t.contacts[c]="Invalid URL address")})),t},children:function(e){var t=e.values,c=e.isSubmitting,i=e.errors,s=e.touched;return Object(u.jsxs)(j.d,{children:[Object(u.jsxs)("label",{children:["Full Name",Object(u.jsx)(j.b,{name:"fullName",type:"text"})]}),i.fullName&&s.fullName&&Object(u.jsx)("div",{children:i.fullName}),Object(u.jsxs)("label",{children:["About me",Object(u.jsx)(j.b,{name:"aboutMe",type:"text"})]}),i.aboutMe&&s.aboutMe&&Object(u.jsx)("div",{children:i.aboutMe}),Object(u.jsxs)("label",{children:["Looking for a job",Object(u.jsx)(j.b,{name:"lookingForAJob",type:"checkbox"})]}),Object(u.jsxs)("label",{children:["My skills",Object(u.jsx)(j.b,{name:"lookingForAJobDescription",type:"text"})]}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("h3",{children:"Contacts"}),Object(u.jsx)(j.c,{name:"contacts",children:function(){return Object(u.jsx)(u.Fragment,{children:Object.keys(t.contacts).map((function(e,t){return Object(u.jsxs)("li",{children:[Object(u.jsxs)("span",{children:[e,": "]}),Object(u.jsx)(j.b,{name:"contacts.".concat(e),type:"text",autoComplete:"off"}),Object(u.jsx)(j.a,{name:"contacts.".concat(e),component:"div",className:"field-error"})]},t)}))})}})]}),Object(u.jsx)("button",{type:"submit",disabled:c,children:"Done"}),Object(u.jsx)("button",{onClick:n,children:"Close"})]})}})},d=function(e){return e.profilePage.userProfile},O=function(e){return e.profilePage.userStatus},f=function(e){return e.profilePage.inWaiting},x=function(e){return e.profilePage.errorMessages},h=function(e){return e.profilePage.profileInfoEditMode},p=function(e){return e.profilePage.statusEditMode},m=function(e){var t=e.userProfile,n=e.activeEditMode,c=e.isOwner,i=t.fullName,s=t.aboutMe,r=t.lookingForAJob,o=t.lookingForAJobDescription,a=t.contacts;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:i}),Object(u.jsxs)("p",{children:["About me: ",s]}),Object(u.jsxs)("p",{children:["Looking for a job: ",r?"Yes":"No"]}),r&&Object(u.jsxs)("p",{children:["My skills: ",o]}),Object(u.jsx)("h3",{children:"Contacts"}),Object(u.jsx)("ul",{children:Object.keys(a).map((function(e){return Object(u.jsx)(v,{contactName:e,contactValue:a[e]},e)}))}),c&&Object(u.jsx)("button",{onClick:n,children:"Edit"})]})},v=function(e){var t=e.contactName,n=e.contactValue;return Object(u.jsxs)("li",{children:[t,": ",Object(u.jsx)("a",{href:"http://".concat(n),children:n})]})},g=n(351),M=function(e){var t=e.isOwner,n=Object(s.d)(O),i=Object(s.d)(p),r=Object(s.c)(),o=function(e,t){return r(a.a.toggleEditMode(e,t))};return Object(c.useEffect)((function(){o(!1,"statusEditMode")}),[]),Object(u.jsx)("div",{children:i?Object(u.jsx)(y,{}):Object(u.jsx)(g.a,{onDoubleClick:function(){t&&o(!0,"statusEditMode")},component:"span",children:n||"---"})})},y=function(){var e=Object(s.d)(O),t=Object(s.c)(),n={userStatus:null===e?"":e};return Object(u.jsx)(j.e,{initialValues:n,onSubmit:function(e,n){var c,i=n.setSubmitting;c=e.userStatus,t(Object(a.g)(c)),i(!1)},validate:function(e){var t={};return e.userStatus.length>300&&(t.userStatus="Status max length 300 symbols"),t},children:function(e){var t=e.errors,n=e.touched,c=e.isSubmitting;return Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{name:"userStatus",type:"text",autoComplete:"off"}),Object(u.jsx)("button",{type:"submit",disabled:c,children:"Save status"}),t.userStatus&&n.userStatus&&Object(u.jsx)("div",{children:t.userStatus})]})}})},E=n(463),S=n(336),k=n(340),P=n(339),w=n(462),N=n(344),C=n(371),A=function(e){var t=e.isOwner,n=e.userProfile,c=Object(s.d)(f),i=Object(s.d)(x),r=n.photos,o=i.onSetPhotoErrorMessage,l=Object(s.c)(),j=function(e,t){var n,c;"clickaway"!==t&&(n=null,c="onSetPhotoErrorMessage",l(a.a.setError(n,c)))};return Object(u.jsxs)(S.a,{sx:{pb:3},children:[o&&Object(u.jsx)(k.a,{open:!0,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(u.jsx)(P.a,{onClose:j,severity:"error",children:o})}),c?Object(u.jsx)(w.a,{sx:{mb:2},variant:"rectangular",width:300,height:300}):Object(u.jsx)(S.a,{sx:{mb:2,fontSize:0},children:Object(u.jsx)("img",{src:r.large||C.a,style:{width:"300px",height:"300px"},alt:"User photo"})}),t&&Object(u.jsxs)("label",{htmlFor:"uploadPhoto",children:[Object(u.jsx)("input",{style:{display:"none"},id:"uploadPhoto",type:"file",onChange:function(e){var t;e.target.files&&(t=e.target.files[0],l(Object(a.e)(t)))}}),Object(u.jsx)(N.a,{color:"primary",variant:"contained",component:"span",disabled:c,children:"Upload photo"})]})]})},F=i.a.memo((function(e){var t=e.isOwner,n=Object(s.d)(d),i=Object(s.d)(h),r=Object(s.c)(),o=function(e,t){return r(a.a.toggleEditMode(e,t))};Object(c.useEffect)((function(){return function(){o(!1,"profileInfoEditMode")}}),[]);return Object(u.jsx)(u.Fragment,{children:n?Object(u.jsxs)(E.a,{container:!0,sx:{pt:5},children:[Object(u.jsxs)(E.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(u.jsx)(A,{userProfile:n,isOwner:t}),Object(u.jsx)(M,{isOwner:t})]}),Object(u.jsx)(E.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:i?Object(u.jsx)(b,{initialValues:n,deactiveEditMode:function(e){e.preventDefault(),o(!1,"profileInfoEditMode")},setProfileData:function(e){return r(Object(a.f)(e))}}):Object(u.jsx)(m,{userProfile:n,activeEditMode:function(){o(!0,"profileInfoEditMode")},isOwner:t})})]}):Object(u.jsx)(l.a,{})})})),D=i.a.memo((function(){var e=Object(r.i)().id,t=Object(s.d)(o.a),n=Object(s.c)(),i=null;if(e&&(i=+e),!i){var l=t.isAuth,j=t.id;"authorized"===l&&(i=j)}var b=i===t.id,d=function(){"number"===typeof i&&(function(e){n(Object(a.c)(e))}(i),function(e){n(Object(a.d)(e))}(i))};return Object(c.useEffect)((function(){d()}),[i]),Object(u.jsx)("div",{children:Object(u.jsx)(F,{isOwner:b})})}));t.default=D}}]);
//# sourceMappingURL=8.251c0e5b.chunk.js.map