(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{465:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n(336),r=n(352),s=n(341),i=n(466),o=n(343),l=n(354),u=n(351),j=n(458),d=n(344),b=n(0),x=n.n(b),p=n(33),f=n(51),m=n(142),h=function(e){return e.chat.messages},O=function(e){return e.chat.channelStatus},g=n(442),v=n.n(g),y=n(41),w=n(1),S=x.a.memo((function(){var e=Object(p.c)();return Object(b.useEffect)((function(){return e(Object(m.c)()),function(){e(Object(m.d)())}}),[]),Object(w.jsxs)(a.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"calc(100vh - 64px)",paddingBottom:"20px"},children:[Object(w.jsx)(D,{}),Object(w.jsx)(B,{})]})})),D=x.a.memo((function(){var e=Object(p.d)(h),t=Object(b.useRef)(null),n=Object(b.useState)(!0),a=Object(c.a)(n,2),s=a[0],i=a[1];return Object(b.useEffect)((function(){var e;s&&(null===(e=t.current)||void 0===e||e.scrollIntoView())}),[e]),Object(w.jsxs)(r.a,{sx:{display:"flex",flexDirection:"column",width:"100%",height:"100%",margin:"0",padding:"0 30px",paddingTop:"20px",color:"grey.50",overflowY:"scroll"},onScroll:function(e){var t=e.currentTarget;t.scrollHeight-t.clientHeight-t.scrollTop>50?s&&i(!1):s||i(!0)},children:[e.map((function(e,t){return Object(w.jsx)(k,{messageData:e},t)})),Object(w.jsx)("div",{ref:t})]})})),k=x.a.memo((function(e){var t=e.messageData,n=t.photo,c=t.userName,a=t.message,r=t.userId,j=r===Object(p.d)(f.a).id;return Object(w.jsxs)(s.a,{sx:{alignSelf:j?"flex-end":"flex-start",width:"fit-content",maxWidth:"300px",marginBottom:"20px",backgroundColor:j?"success.light":"success.dark",borderRadius:"5px"},children:[Object(w.jsx)(i.a,{children:Object(w.jsx)(y.c,{to:"/profile/".concat(r),children:Object(w.jsx)(o.a,{children:n&&Object(w.jsx)("img",{src:"".concat(n),alt:"Avatar",style:{width:"50px",height:"50px"}})})})}),Object(w.jsx)(l.a,{primary:c,secondary:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(u.a,{component:"span",color:"white",variant:"body2",children:a})})})]})})),B=x.a.memo((function(){var e=Object(b.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(p.d)(O);return Object(w.jsxs)(a.a,{component:"form",onSubmit:function(e){e.preventDefault(),n&&(Object(m.b)(n),r(""))},sx:{display:"flex",flexDirection:"column"},children:[Object(w.jsx)(j.a,{onChange:function(e){return r(e.target.value)},variant:"outlined",value:n,name:"newMessage",sx:{width:"100%",marginBottom:"5px"}}),Object(w.jsx)(d.a,{type:"submit",variant:"contained",endIcon:Object(w.jsx)(v.a,{}),disabled:!s,children:"Send"})]})}));t.default=S}}]);
//# sourceMappingURL=13.08da0822.chunk.js.map