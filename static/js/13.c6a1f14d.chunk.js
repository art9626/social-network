(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{375:function(e,t,n){"use strict";t.a=n.p+"static/media/user-icon.506e3070.jpeg"},462:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),i=n(15),c=n(51),s=n(115),l=n(376),u=n(341),j=n(340),b=n(352),d=n(354),h=n(343),f=n(461),x=n(470),O=n(464),m=n(471),p=n(353),g=function(e){return e.profilePage.userProfile},v=function(e){return e.profilePage.userStatus},M=function(e){return e.profilePage.inWaiting},w=function(e){return e.profilePage.errorMessages},S=function(e){return e.profilePage.profileInfoEditMode},k=function(e){return e.profilePage.statusEditMode},y=function(e){return e.profilePage.profileDataIsSubmitting},C=n(1),E=function(e){var t=e.editMode,n=e.initialValues,a=e.deactiveEditMode,o=e.setProfileData,i=Object(r.d)(y),c=Object(l.d)({initialValues:n,onSubmit:function(e){o(e)},validate:function(e){var t={};e.fullName||(t.fullName="The Full Name field is required"),e.aboutMe||(t.aboutMe="The AboutMe field is required");var n=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;return Object.keys(e.contacts).forEach((function(a){e.contacts[a]&&!n.test(e.contacts[a])&&(t.contacts||(t.contacts={}),t.contacts[a]="Invalid URL address")})),t}}),s=c.handleSubmit,g=c.values,v=c.errors,M=c.touched;return Object(C.jsx)(u.a,{open:t,onClose:a,children:Object(C.jsxs)(j.a,{component:"form",onSubmit:s,sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,maxHeight:"80vh",bgcolor:"background.paper",borderRadius:"5px",boxShadow:24,p:4,overflowY:"scroll"},children:[Object(C.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h3",color:"primary",children:"Main info:"}),Object(C.jsxs)(d.a,{children:[Object(C.jsx)(h.a,{children:Object(C.jsx)(f.a,{fullWidth:!0,name:"fullName",label:"Full Name",value:g.fullName,onChange:c.handleChange,error:M.fullName&&Boolean(v.fullName),helperText:M.fullName&&v.fullName,autoComplete:"off"})}),Object(C.jsx)(h.a,{children:Object(C.jsx)(f.a,{fullWidth:!0,name:"aboutMe",label:"About Me",value:g.aboutMe,onChange:c.handleChange,error:M.aboutMe&&Boolean(v.aboutMe),helperText:M.aboutMe&&v.aboutMe,autoComplete:"off",multiline:!0,rows:3})}),Object(C.jsx)(h.a,{children:Object(C.jsx)(x.a,{sx:{color:"text.primary"},onChange:c.handleChange,name:"lookingForAJob",label:"Looking for a job",control:Object(C.jsx)(O.a,{value:g.lookingForAJob,checked:g.lookingForAJob})})}),Object(C.jsx)(h.a,{children:Object(C.jsx)(f.a,{fullWidth:!0,name:"lookingForAJobDescription",label:"My Skills",value:g.lookingForAJobDescription,onChange:c.handleChange,error:M.lookingForAJobDescription&&Boolean(v.lookingForAJobDescription),helperText:M.lookingForAJobDescription&&v.lookingForAJobDescription,autoComplete:"off",multiline:!0,rows:3})})]}),Object(C.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h3",color:"primary",children:"Contacts:"}),Object(C.jsx)(d.a,{children:Object.keys(g.contacts).map((function(e,t){return Object(C.jsx)(h.a,{children:Object(C.jsx)(f.a,{fullWidth:!0,name:"contacts.".concat(e),value:g.contacts[e],label:e,onChange:c.handleChange,error:v.contacts&&M.contacts&&M.contacts[e]&&Boolean(v.contacts[e]),helperText:v.contacts&&M.contacts&&M.contacts[e]&&v.contacts[e],autoComplete:"off",size:"small"})},t)}))}),Object(C.jsxs)(m.a,{variant:"outlined","aria-label":"outlined button group",children:[Object(C.jsx)(p.a,{type:"submit",disabled:i,children:"Submit"}),Object(C.jsx)(p.a,{onClick:a,children:"Close"})]})]})})},F=n(356),P=function(e){var t=e.userProfile,n=e.activeEditMode,a=e.isOwner,o=t.fullName,r=t.aboutMe,i=t.lookingForAJob,c=t.lookingForAJobDescription,s=t.contacts,l=[{description:"About me",value:r},{description:"Looking for a job",value:i?"Yes":"No"},{description:"My skills",value:c}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(b.a,{component:"h2",variant:"h1",color:"primary",children:o}),Object(C.jsxs)(d.a,{children:[l.map((function(e,t){return Object(C.jsx)(h.a,{children:Object(C.jsx)(F.a,{primary:Object(C.jsx)(b.a,{component:"span",variant:"h6",color:"secondary",children:e.description}),secondary:e.value})},t)})),Object(C.jsxs)(h.a,{sx:{flexDirection:"column",alignItems:"flex-start"},children:[Object(C.jsx)(b.a,{component:"span",variant:"h6",color:"secondary",children:"Contacts"}),Object(C.jsx)(d.a,{children:Object.keys(s).map((function(e){return Object(C.jsx)(A,{contactName:e,contactValue:s[e]},e)}))})]})]}),a&&Object(C.jsx)(p.a,{variant:"contained",onClick:n,children:"Edit"})]})},A=function(e){var t=e.contactName,n=e.contactValue;return Object(C.jsx)(h.a,{sx:{p:"0"},children:Object(C.jsx)(F.a,{primary:Object(C.jsxs)(b.a,{children:[t,": ",Object(C.jsx)(b.a,{sx:{textDecoration:"none"},component:"a",href:"http://".concat(n),children:n})]})})})},D=n(339),N=function(e){var t=e.isOwner,n=Object(r.d)(v),o=Object(r.d)(k),i=Object(r.c)(),c=function(e,t){return i(s.a.toggleEditMode(e,t))};return Object(a.useEffect)((function(){c(!1,"statusEditMode")}),[]),Object(C.jsx)("div",{children:o?Object(C.jsx)(J,{}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{onDoubleClick:function(){t&&c(!0,"statusEditMode")},component:"span",children:n||"---"})})})},J=function(){var e=Object(r.d)(v),t=Object(r.c)(),n={userStatus:null===e?"":e},a=Object(l.d)({initialValues:n,onSubmit:function(e,n){var a,o=n.setSubmitting;a=e.userStatus,t(Object(s.g)(a)),o(!1)},validate:function(e){var t={};return e.userStatus.length>300&&(t.userStatus="Status max length 300 symbols"),t}}),o=a.isSubmitting,i=a.handleSubmit,c=a.values,u=a.errors,j=a.touched;return Object(C.jsxs)(D.a,{component:"form",onSubmit:i,children:[Object(C.jsx)(f.a,{sx:{mr:2},name:"userStatus",value:c.userStatus,onChange:a.handleChange,autoComplete:"off",size:"small",variant:"standard",error:j.userStatus&&Boolean(u.userStatus),helperText:j.userStatus&&u.userStatus}),Object(C.jsx)(p.a,{variant:"contained",type:"submit",color:"success",size:"small",disabled:o,children:"Submit"})]})},z=n(468),B=n(467),I=n(375),T=n(141),V=function(e){var t=e.isOwner,n=e.userProfile,a=Object(r.d)(M),o=Object(r.d)(w),i=n.photos,c=o.onSetPhotoErrorMessage,l=Object(r.c)();return Object(C.jsxs)(j.a,{sx:{pb:3},children:[c&&Object(C.jsx)(T.a,{handleClose:function(e,t){var n,a;"clickaway"!==t&&(n=null,a="onSetPhotoErrorMessage",l(s.a.setError(n,a)))},children:c}),a?Object(C.jsx)(B.a,{sx:{mb:2},variant:"rectangular",width:300,height:300}):Object(C.jsx)(j.a,{sx:{mb:2,fontSize:0},children:Object(C.jsx)("img",{src:i.large||I.a,style:{width:"300px",height:"300px"},alt:"User photo"})}),t&&Object(C.jsxs)("label",{htmlFor:"uploadPhoto",children:[Object(C.jsx)("input",{style:{display:"none"},id:"uploadPhoto",type:"file",onChange:function(e){var t;e.target.files&&(t=e.target.files[0],l(Object(s.e)(t)))}}),Object(C.jsx)(p.a,{color:"primary",variant:"contained",component:"span",disabled:a,children:"Upload photo"})]})]})},W=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{sx:{mb:2},variant:"rectangular",width:300,height:300}),Object(C.jsx)(B.a,{width:130,height:60,variant:"text"}),Object(C.jsx)(B.a,{width:300,variant:"text"})]})},L=function(){var e=[1,1,1,1,1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{sx:{mb:3},width:"40%",height:40,variant:"text"}),e.map((function(e,t){if(t<=2)return Object(C.jsx)(B.a,{sx:{mb:1},width:"60%",variant:"text"},t)})),Object(C.jsx)(B.a,{sx:{mb:3},width:"40%",height:40,variant:"text"}),e.map((function(e,t){return Object(C.jsx)(B.a,{sx:{mb:1},width:"60%",variant:"text"},t)})),Object(C.jsx)(B.a,{width:"20%",height:60,variant:"text"})]})},U=o.a.memo((function(e){var t=e.isOwner,n=Object(r.d)(g),o=Object(r.d)(S),i=Object(r.c)(),c=function(e,t){return i(s.a.toggleEditMode(e,t))};Object(a.useEffect)((function(){return function(){c(!1,"profileInfoEditMode")}}),[]);return Object(C.jsxs)(z.a,{container:!0,sx:{pt:5},children:[Object(C.jsx)(z.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(V,{userProfile:n,isOwner:t}),Object(C.jsx)(N,{isOwner:t})]}):Object(C.jsx)(W,{})}),Object(C.jsx)(z.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(P,{userProfile:n,activeEditMode:function(){c(!0,"profileInfoEditMode")},isOwner:t}),Object(C.jsx)(E,{editMode:o,initialValues:n,deactiveEditMode:function(e){e.preventDefault(),c(!1,"profileInfoEditMode")},setProfileData:function(e){return i(Object(s.f)(e))}})]}):Object(C.jsx)(L,{})})]})})),q=o.a.memo((function(){var e=Object(i.i)().id,t=Object(r.d)(c.a),n=Object(r.c)(),o=null;if(e&&(o=+e),!o){var l=t.isAuth,u=t.id;"authorized"===l&&(o=u)}var j=o===t.id,b=function(){"number"===typeof o&&(function(e){n(Object(s.c)(e))}(o),function(e){n(Object(s.d)(e))}(o))};return Object(a.useEffect)((function(){b()}),[o]),Object(C.jsx)("div",{children:Object(C.jsx)(U,{isOwner:j})})}));t.default=q}}]);
//# sourceMappingURL=13.c6a1f14d.chunk.js.map