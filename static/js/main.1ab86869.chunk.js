(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{10:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return s}));var r=n(70),i=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"9d799735-d786-4c1b-bde9-09779c3bba07"}}),a={getFollow:function(t){return i.post("/follow/".concat(t)).then((function(t){return t.data}))},getUnfollow:function(t){return i.delete("/follow/".concat(t)).then((function(t){return t.data}))},getUsersData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i.get("/users?count=".concat(t,"&page=").concat(e)).then((function(t){return t.data}))}},c={getProfileData:function(t){return i.get("/profile/".concat(t)).then((function(t){return t.data}))},getStatus:function(t){return i.get("/profile/status/".concat(t)).then((function(t){return t.data}))},setStatus:function(t){return i.put("/profile/status",{status:t}).then((function(t){return t.data}))}},s={getAuthUserData:function(){return i.get("/auth/me").then((function(t){return t.data}))},login:function(t){return i.post("/auth/login",t).then((function(t){return t.data}))},logout:function(){return i.post("/auth/logout")}}},17:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return o}));var r=n(2),i=n(10),a="SET_AUTH_USER_DATA",c=function(t,e){return{type:a,data:t,isAuth:e}},s=function(){return function(t){return i.a.getAuthUserData().then((function(e){0===e.resultCode&&t(c(e.data,"authorized"))}))}},u=function(t){return function(e){i.a.login(t).then((function(t){0===t.resultCode&&e(s())}))}},o=function(){return function(t){i.a.logout().then((function(e){0===e.data.resultCode&&t(c({id:null,login:null,email:null},"notAuthorized"))}))}},l={id:null,login:null,email:null,isAuth:"notAuthorized"};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;return e.type===a?Object(r.a)(Object(r.a)(Object(r.a)({},t),e.data),{},{isAuth:e.isAuth}):t}},183:function(t,e,n){},185:function(t,e,n){"use strict";n.r(e);n(94);var r=function(t){t&&t instanceof Function&&n.e(10).then(n.bind(null,298)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),i(t),a(t),c(t)}))},i=n(0),a=n.n(i),c=n(38),s=n.n(c),u=n(9),o=n(24),l=n(17),d=n(62),b=n(63),f={friends:[{id:1,name:"Aaaa"},{id:2,name:"Bbb"},{id:3,name:"Ccc"}]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return t},O=n(64),h=n(73),p=n(2),m="INIT_SUCCESS",g={init:!1},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;return e.type===m?Object(p.a)(Object(p.a)({},t),{},{init:!0}):t},_=n(187),x=Object(o.c)({profilePage:b.b,dialogsPage:d.a,sidebar:j,usersPage:O.a,auth:l.a,app:v,form:_.a}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,C=Object(o.e)(x,y(Object(o.a)(h.a))),S=n(34),N=n(35),k=n(37),w=n(36),E=n(13),P=n(4),A=(n(183),n(44)),F=n(47),T=n.n(F),I=n(1),U=function(t){var e=t.userData,n=t.logoutUser;return Object(I.jsxs)("header",{className:T.a.header,children:[Object(I.jsx)("img",{className:T.a.img,src:"https://i.imgur.com/BrIpiK6.png"}),Object(I.jsx)("div",{children:"authorized"===e.isAuth?Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{children:[" ",e.login," (",e.email,") "]}),Object(I.jsx)("button",{onClick:n,children:"Exit"})]}):Object(I.jsx)(u.b,{to:"/login",children:"Login"})})]})},D=function(t){Object(k.a)(n,t);var e=Object(w.a)(n);function n(){return Object(S.a)(this,n),e.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return Object(I.jsx)(U,Object(p.a)(Object(p.a)({},this.props),{},{logoutUser:this.props.logoutUser}))}}]),n}(a.a.Component),L=Object(E.b)((function(t){return{userData:t.auth}}),{logoutUser:l.d})(D),z=n(76),R=n.n(z),G=function(t){return Object(I.jsx)("li",{className:R.a.item,children:t.name})},H=n(77),M=n.n(H),B=function(t){var e=t.friends.map((function(t){return Object(I.jsx)(G,{name:t.name},t.id)}));return Object(I.jsx)("ul",{className:M.a.list,children:e})},W=Object(E.b)((function(t){return{friends:t.sidebar.friends}}))(B),K=n(6),V=n.n(K),Y=function(){var t="".concat(V.a.active," ").concat(V.a.link);return Object(I.jsx)("nav",{className:V.a.nav,children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{className:V.a.item,children:Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/profile",children:"Profile"})}),Object(I.jsx)("li",{className:V.a.item,children:Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/dialogs",children:"Dialogs"})}),Object(I.jsx)("li",{className:V.a.item,children:Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/news",children:"News"})}),Object(I.jsx)("li",{className:V.a.item,children:Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/music",children:"Music"})}),Object(I.jsx)("li",{className:V.a.item,children:Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/users",children:"Users"})}),Object(I.jsxs)("li",{className:V.a.item,children:[Object(I.jsx)(u.b,{className:function(e){return e.isActive?t:V.a.link},to:"/friends",children:"MyFriends"}),Object(I.jsx)(W,{})]})]})})},J=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,303))})),X=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,304))})),Q=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,301))})),q=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,302))})),Z=Object(i.lazy)((function(){return n.e(8).then(n.bind(null,299))})),$=Object(i.lazy)((function(){return n.e(9).then(n.bind(null,300))})),tt=function(t){Object(k.a)(n,t);var e=Object(w.a)(n);function n(){return Object(S.a)(this,n),e.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.initApp()}},{key:"render",value:function(){return this.props.init?Object(I.jsxs)("div",{className:"app-wrapper",children:[Object(I.jsx)(L,{}),Object(I.jsx)(Y,{}),Object(I.jsx)("div",{className:"app-content-wrapper",children:Object(I.jsx)(i.Suspense,{fallback:Object(I.jsx)(A.a,{}),children:Object(I.jsxs)(P.d,{children:[Object(I.jsx)(P.b,{path:"/login",element:Object(I.jsx)(X,{})}),Object(I.jsx)(P.b,{path:"/profile/:userId",element:Object(I.jsx)(Q,{})}),Object(I.jsx)(P.b,{path:"/profile",element:Object(I.jsx)(Q,{})}),Object(I.jsx)(P.b,{path:"/dialogs/*",element:Object(I.jsx)(J,{})}),Object(I.jsx)(P.b,{path:"/users",element:Object(I.jsx)(q,{})}),Object(I.jsx)(P.b,{path:"/news",element:Object(I.jsx)($,{})}),Object(I.jsx)(P.b,{path:"/music",element:Object(I.jsx)(Z,{})})]})})})]}):Object(I.jsx)(A.a,{})}}]),n}(a.a.Component),et=Object(E.b)((function(t){return{init:t.app.init}}),{initApp:function(){return function(t){t(Object(l.b)()).then((function(){t({type:m})}))}}})(tt);s.a.render(Object(I.jsx)(u.a,{children:Object(I.jsx)(E.a,{store:C,children:Object(I.jsx)(et,{})})}),document.getElementById("root")),window.store=C,window.props=[],r()},44:function(t,e,n){"use strict";n(0);var r=n(75),i=n.n(r),a=n(1);e.a=function(){return Object(a.jsx)("div",{className:i.a.spinner})}},47:function(t,e,n){t.exports={header:"Header_header__1VCKf",img:"Header_img__3ifQS"}},6:function(t,e,n){t.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",link:"Navbar_link__TNvz9",active:"Navbar_active__3mbhk"}},62:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(15),i=n(2),a="SEND-MESSAGE",c=function(t){return{type:a,text:t}},s={dialogs:[{id:1,name:"Aaaa"},{id:2,name:"Bbb"},{id:3,name:"Ccc"}],messages:[{id:1,message:"Hey!",status:"from"},{id:2,message:"How are you?",status:"from"},{id:3,message:"Im ok)",status:"to"}]};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;return e.type===a?Object(i.a)(Object(i.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[{id:t.messages.length+1,status:"to",message:e.text}])}):t}},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return f}));var r=n(15),i=n(2),a=n(10),c="ADD-POST",s="SET_USER_PROFILE",u="SET_USER_STATUS",o=function(t){return{type:c,text:t}},l=function(t){return{type:u,text:t}},d=function(t){return function(e){a.b.getProfileData(t).then((function(t){e({type:s,userData:t})}))}},b=function(t){return function(e){a.b.getStatus(t).then((function(t){return e(l(t))}))}},f=function(t){return function(e){a.b.setStatus(t).then((function(n){0===n.resultCode&&e(l(t))}))}},j={posts:[{id:1,message:"Hi, how are you?",likesCount:10},{id:2,message:"Its my first post",likesCount:15},{id:3,message:"Da",likesCount:120},{id:4,message:"Ok, its cool",likesCount:110},{id:5,message:";)",likesCount:40}],userProfile:null,userStatus:""};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:return Object(i.a)(Object(i.a)({},t),{},{posts:[].concat(Object(r.a)(t.posts),[{id:t.posts.length+1,message:e.text,likesCount:0}])});case s:return Object(i.a)(Object(i.a)({},t),{},{userProfile:e.userData});case u:return Object(i.a)(Object(i.a)({},t),{},{userStatus:e.text});default:return t}}},64:function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return y}));var r=n(15),i=n(2),a=n(46),c=n.n(a),s=n(71),u=n(10),o="FOLLOW",l="UNFOLLOW",d="SET_USERS",b="SET_CURRENT_PAGE",f="SET_TOTAL_COUNT",j="TOGGLE_IS_FETCHING",O="TOGGLE_FOLLOWING_IN_PROGRESS",h=function(t){return{type:o,userId:t}},p=function(t){return{type:l,userId:t}},m=function(t){return{type:j,isFetching:t}},g=function(t,e){return{type:O,inProgress:t,id:e}},v=function(){var t=Object(s.a)(c.a.mark((function t(e,n,r,i){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(g(!0,i)),t.next=3,n(i);case 3:0===t.sent.resultCode&&e(r(i)),e(g(!1,i));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),_=function(t){return function(e){v(e,u.c.getFollow,h,t)}},x=function(t){return function(e){v(e,u.c.getUnfollow,p,t)}},y=function(t,e){return function(n){n(m(!0)),u.c.getUsersData(t,e).then((function(t){var r,i;n((r=t.items,{type:d,users:r})),n((i=t.totalCount,{type:f,totalCount:i})),n(m(!1)),n({type:b,page:e})}))}},C={items:[],pageSize:50,currentPage:1,totalCount:null,isFetching:!1,followingInProgress:[],fake:10};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(i.a)(Object(i.a)({},t),{},{items:Object(r.a)(t.items.map((function(t){return t.id===e.userId?Object(i.a)(Object(i.a)({},t),{},{followed:!0}):t})))});case l:return Object(i.a)(Object(i.a)({},t),{},{items:Object(r.a)(t.items.map((function(t){return t.id===e.userId?Object(i.a)(Object(i.a)({},t),{},{followed:!1}):t})))});case d:return Object(i.a)(Object(i.a)({},t),{},{items:e.users});case b:return Object(i.a)(Object(i.a)({},t),{},{currentPage:e.page});case f:return Object(i.a)(Object(i.a)({},t),{},{totalCount:e.totalCount});case j:return Object(i.a)(Object(i.a)({},t),{},{isFetching:e.isFetching});case O:return Object(i.a)(Object(i.a)({},t),{},{followingInProgress:e.inProgress?[].concat(Object(r.a)(t.followingInProgress),[e.id]):t.followingInProgress.filter((function(t){return t!==e.id}))});default:return t}}},75:function(t,e,n){t.exports={spinner:"Preloader_spinner__1CHfh"}},76:function(t,e,n){t.exports={nav:"FriendCard_nav__21IhY",item:"FriendCard_item__k8SwB",link:"FriendCard_link__2kDfF",active:"FriendCard_active__2Y2Pm"}},77:function(t,e,n){t.exports={nav:"Friends_nav__34e08",item:"Friends_item__13jWM",link:"Friends_link__g-4LT",active:"Friends_active__1z84V"}},94:function(t,e,n){}},[[185,2,3]]]);
//# sourceMappingURL=main.1ab86869.chunk.js.map