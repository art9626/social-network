(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{180:function(t,e,n){},182:function(t,e,n){"use strict";n.r(e);n(91);var r=function(t){t&&t instanceof Function&&n.e(10).then(n.bind(null,295)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))},a=n(0),c=n.n(a),i=n(40),u=n.n(i),s=n(10),o=n(26),l=n(19),f=n(63),b=n(69),d={friends:[{id:1,name:"Aaaa"},{id:2,name:"Bbb"},{id:3,name:"Ccc"}]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return t},p=n(70),O=n(72),h=n(2),m="INIT_SUCCESS",g={init:!1},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;return e.type===m?Object(h.a)(Object(h.a)({},t),{},{init:!0}):t},x=n(184),_=Object(o.c)({profilePage:b.b,dialogsPage:f.a,sidebar:j,usersPage:p.a,auth:l.a,app:v,form:x.a}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,y=Object(o.e)(_,w(Object(o.a)(O.a))),k=n(36),C=n(37),E=n(39),N=n(38),P=n(16),S=n(4),T=(n(180),n(46)),A=n(48),I=n.n(A),L=n(1),U=function(t){var e=t.userData,n=t.logoutUser;return Object(L.jsxs)("header",{className:I.a.header,children:[Object(L.jsx)("img",{className:I.a.img,src:"https://i.imgur.com/BrIpiK6.png"}),Object(L.jsx)("div",{children:"authorized"===e.isAuth?Object(L.jsxs)("div",{children:[Object(L.jsxs)("span",{children:[" ",e.login," (",e.email,") "]}),Object(L.jsx)("button",{onClick:n,children:"Exit"})]}):Object(L.jsx)(s.b,{to:"/login",children:"Login"})})]})},D=function(t){Object(E.a)(n,t);var e=Object(N.a)(n);function n(){return Object(k.a)(this,n),e.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(L.jsx)(U,Object(h.a)(Object(h.a)({},this.props),{},{logoutUser:this.props.logoutUser}))}}]),n}(c.a.Component),F=Object(P.b)((function(t){return{userData:t.auth}}),{logoutUser:l.d})(D),R=n(8),z=n.n(R),G=function(){var t="".concat(z.a.active," ").concat(z.a.link);return Object(L.jsx)("nav",{className:z.a.nav,children:Object(L.jsxs)("ul",{children:[Object(L.jsx)("li",{className:z.a.item,children:Object(L.jsx)(s.b,{className:function(e){return e.isActive?t:z.a.link},to:"/profile",children:"Profile"})}),Object(L.jsx)("li",{className:z.a.item,children:Object(L.jsx)(s.b,{className:function(e){return e.isActive?t:z.a.link},to:"/dialogs",children:"Dialogs"})}),Object(L.jsx)("li",{className:z.a.item,children:Object(L.jsx)(s.b,{className:function(e){return e.isActive?t:z.a.link},to:"/news",children:"News"})}),Object(L.jsx)("li",{className:z.a.item,children:Object(L.jsx)(s.b,{className:function(e){return e.isActive?t:z.a.link},to:"/music",children:"Music"})}),Object(L.jsx)("li",{className:z.a.item,children:Object(L.jsx)(s.b,{className:function(e){return e.isActive?t:z.a.link},to:"/users",children:"Users"})})]})})},H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,299))})),W=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,301))})),B=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,298))})),K=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,300))})),M=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,296))})),Y=Object(a.lazy)((function(){return n.e(9).then(n.bind(null,297))})),J=function(t){Object(E.a)(n,t);var e=Object(N.a)(n);function n(){return Object(k.a)(this,n),e.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.initApp()}},{key:"render",value:function(){return this.props.init?Object(L.jsxs)("div",{className:"app-wrapper",children:[Object(L.jsx)(F,{}),Object(L.jsx)(G,{}),Object(L.jsx)("div",{className:"app-content-wrapper",children:Object(L.jsx)(a.Suspense,{fallback:Object(L.jsx)(T.a,{}),children:Object(L.jsxs)(S.d,{children:[Object(L.jsx)(S.b,{path:"/login",element:Object(L.jsx)(W,{})}),Object(L.jsx)(S.b,{path:"/profile/:userId",element:Object(L.jsx)(B,{})}),Object(L.jsx)(S.b,{path:"/profile",element:Object(L.jsx)(B,{})}),Object(L.jsx)(S.b,{path:"/dialogs/*",element:Object(L.jsx)(H,{})}),Object(L.jsx)(S.b,{path:"/users",element:Object(L.jsx)(K,{})}),Object(L.jsx)(S.b,{path:"/news",element:Object(L.jsx)(Y,{})}),Object(L.jsx)(S.b,{path:"/music",element:Object(L.jsx)(M,{})})]})})})]}):Object(L.jsx)(T.a,{})}}]),n}(c.a.Component),V=Object(P.b)((function(t){return{init:t.app.init}}),{initApp:function(){return function(t){t(Object(l.b)()).then((function(){t({type:m})}))}}})(J);u.a.render(Object(L.jsx)(s.a,{children:Object(L.jsx)(P.a,{store:y,children:Object(L.jsx)(V,{})})}),document.getElementById("root")),window.store=y,window.props=[],r()},19:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return d}));var r=n(2),a=n(20),c=n.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"9d799735-d786-4c1b-bde9-09779c3bba07"}}),i=function(){return c.get("/auth/me").then((function(t){return t.data}))},u=function(t){return c.post("/auth/login",t).then((function(t){return t.data}))},s=function(){return c.post("/auth/logout")},o="SET_AUTH_USER_DATA",l=function(t,e){return{type:o,data:t,isAuth:e}},f=function(){return function(t){return i().then((function(e){0===e.resultCode&&t(l(e.data,"authorized"))}))}},b=function(t){return function(e){u(t).then((function(t){0===t.resultCode&&e(f())}))}},d=function(){return function(t){s().then((function(e){0===e.data.resultCode&&t(l({id:null,login:null,email:null},"notAuthorized"))}))}},j={id:null,login:null,email:null,isAuth:"notAuthorized"};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;return e.type===o?Object(r.a)(Object(r.a)(Object(r.a)({},t),e.data),{},{isAuth:e.isAuth}):t}},46:function(t,e,n){"use strict";n(0);var r=n(74),a=n.n(r),c=n(1);e.a=function(){return Object(c.jsx)("div",{className:a.a.spinner})}},48:function(t,e,n){t.exports={header:"Header_header__1VCKf",img:"Header_img__3ifQS"}},63:function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var r=n(14),a=n(2),c="SEND-MESSAGE",i=function(t){return{type:c,text:t}},u={dialogs:[{id:1,name:"Aaaa"},{id:2,name:"Bbb"},{id:3,name:"Ccc"}],messages:[{id:1,message:"Hey!",status:"from"},{id:2,message:"How are you?",status:"from"},{id:3,message:"Im ok)",status:"to"}]};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;return e.type===c?Object(a.a)(Object(a.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[{id:t.messages.length+1,status:"to",message:e.text}])}):t}},69:function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return C})),n.d(e,"g",(function(){return E})),n.d(e,"e",(function(){return N})),n.d(e,"f",(function(){return P}));var r=n(14),a=n(2),c=n(6),i=n.n(c),u=n(15),s=n(20),o=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"9d799735-d786-4c1b-bde9-09779c3bba07"}}),l=function(t){return o.get("/profile/".concat(t)).then((function(t){return t.data}))},f=function(t){return o.get("/profile/status/".concat(t)).then((function(t){return t.data}))},b=function(t){return o.put("/profile/status",{status:t}).then((function(t){return t.data}))},d=function(t){var e=new FormData;return e.append("image",t),o.put("/profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return t.data}))},j=function(t){return o.put("/profile",t).then((function(t){return t.data}))},p="social-network/profile/ADD-POST",O="social-network/profile/SET_USER_PROFILE",h="social-network/profile/SET_USER_STATUS",m="social-network/profile/SET_PHOTO",g="social-network/profile/TOGGLE_IN_WAITING",v="social-network/profile/SET_PROFILE_DATA",x=function(t){return{type:p,text:t}},_=function(t){return{type:h,text:t}},w=function(t){return{type:g,inWaiting:t}},y=function(t){return{type:v,data:t}},k=function(t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:r=e.sent,n({type:O,userData:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:r=e.sent,n(_(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(t){return function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:0===e.sent.resultCode&&n(_(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(w(!0)),e.next=3,d(t);case 3:r=e.sent,n((a=r.data.photos,{type:m,photos:a})),n(w(!1));case 6:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:0===(r=e.sent).resultCode&&n(y(t)),console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S={posts:[{id:1,message:"Hi, how are you?",likesCount:10},{id:2,message:"Its my first post",likesCount:15},{id:3,message:"Da",likesCount:120},{id:4,message:"Ok, its cool",likesCount:110},{id:5,message:";)",likesCount:40}],userProfile:null,userStatus:"",inWaiting:!1};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(a.a)(Object(a.a)({},t),{},{posts:[].concat(Object(r.a)(t.posts),[{id:t.posts.length+1,message:e.text,likesCount:0}])});case O:return Object(a.a)(Object(a.a)({},t),{},{userProfile:e.userData});case h:return Object(a.a)(Object(a.a)({},t),{},{userStatus:e.text});case m:return Object(a.a)(Object(a.a)({},t),{},{userProfile:Object(a.a)(Object(a.a)({},t.userProfile),{},{photos:e.photos})});case g:return Object(a.a)(Object(a.a)({},t),{},{inWaiting:e.inWaiting});case v:return Object(a.a)(Object(a.a)({},t),{},{userProfile:Object(a.a)(Object(a.a)({},t.userProfile),e.data)});default:return t}}},70:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"d",(function(){return C})),n.d(e,"c",(function(){return E}));var r=n(14),a=n(2),c=n(6),i=n.n(c),u=n(15),s=n(20),o=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"9d799735-d786-4c1b-bde9-09779c3bba07"}}),l=function(t){return o.post("/follow/".concat(t)).then((function(t){return t.data}))},f=function(t){return o.delete("/follow/".concat(t)).then((function(t){return t.data}))},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.get("/users?count=".concat(t,"&page=").concat(e)).then((function(t){return t.data}))},d="FOLLOW",j="UNFOLLOW",p="SET_USERS",O="SET_CURRENT_PAGE",h="SET_TOTAL_COUNT",m="TOGGLE_IS_FETCHING",g="TOGGLE_FOLLOWING_IN_PROGRESS",v=function(t){return{type:d,userId:t}},x=function(t){return{type:j,userId:t}},_=function(t){return{type:m,isFetching:t}},w=function(t,e){return{type:g,inProgress:t,id:e}},y=function(){var t=Object(u.a)(i.a.mark((function t(e,n,r,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w(!0,a)),t.next=3,n(a);case 3:0===t.sent.resultCode&&e(r(a)),e(w(!1,a));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),k=function(t){return function(e){y(e,l,v,t)}},C=function(t){return function(e){y(e,f,x,t)}},E=function(t,e){return function(n){n(_(!0)),b(t,e).then((function(t){var r,a;n((r=t.items,{type:p,users:r})),n((a=t.totalCount,{type:h,totalCount:a})),n(_(!1)),n({type:O,page:e})}))}},N={items:[],pageSize:50,currentPage:1,totalCount:null,isFetching:!1,followingInProgress:[]};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(a.a)(Object(a.a)({},t),{},{items:Object(r.a)(t.items.map((function(t){return t.id===e.userId?Object(a.a)(Object(a.a)({},t),{},{followed:!0}):t})))});case j:return Object(a.a)(Object(a.a)({},t),{},{items:Object(r.a)(t.items.map((function(t){return t.id===e.userId?Object(a.a)(Object(a.a)({},t),{},{followed:!1}):t})))});case p:return Object(a.a)(Object(a.a)({},t),{},{items:e.users});case O:return Object(a.a)(Object(a.a)({},t),{},{currentPage:e.page});case h:return Object(a.a)(Object(a.a)({},t),{},{totalCount:e.totalCount});case m:return Object(a.a)(Object(a.a)({},t),{},{isFetching:e.isFetching});case g:return Object(a.a)(Object(a.a)({},t),{},{followingInProgress:e.inProgress?[].concat(Object(r.a)(t.followingInProgress),[e.id]):t.followingInProgress.filter((function(t){return t!==e.id}))});default:return t}}},74:function(t,e,n){t.exports={spinner:"Preloader_spinner__1CHfh"}},8:function(t,e,n){t.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",link:"Navbar_link__TNvz9",active:"Navbar_active__3mbhk"}},91:function(t,e,n){}},[[182,2,3]]]);
//# sourceMappingURL=main.df9d34b7.chunk.js.map