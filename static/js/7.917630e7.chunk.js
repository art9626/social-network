/*! For license information please see 7.917630e7.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{364:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===c)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},375:function(e,t,n){"use strict";t.a=n.p+"static/media/user-icon.506e3070.jpeg"},444:function(e,t,n){e.exports={ldsRipple:"Preloader_ldsRipple__39kqY"}},445:function(e,t,n){e.exports={userIcon:"UserCard_userIcon__3X0ty"}},446:function(e,t,n){e.exports={pagination:"Pagination_pagination__1KkdA",paginationList:"Pagination_paginationList__2NJHl",pageItem:"Pagination_pageItem__2MtXm",selectedPage:"Pagination_selectedPage__CblSr"}},463:function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(0),c=n.n(i),o=n(33),s=n(123),a=n(444),l=n.n(a),u=n(1),j=function(){return Object(u.jsxs)("div",{className:l.a.ldsRipple,children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})},f=function(e){return e.usersPage.items},d=function(e){return e.usersPage.pageSize},b=function(e){return e.usersPage.totalCount},g=function(e){return e.usersPage.currentPage},p=function(e){return e.usersPage.isFetching},O=function(e){return e.usersPage.followingInProgress},m=function(e){return e.usersPage.errorMessages},x=function(e){return e.usersPage.filter},h=n(376),v=c.a.memo((function(e){var t=e.setFilter,n=e.filter;return Object(u.jsx)(h.c,{initialValues:{search:n.term,friend:String(n.friend)},onSubmit:function(e,n){var r=e.search,i=e.friend,c=n.setSubmitting;t({term:r,friend:"true"===i||"false"!==i&&null},1),c(!1)},children:function(e){var n=e.isSubmitting,r=e.setFieldValue;return Object(u.jsxs)(h.b,{children:[Object(u.jsx)(h.a,{type:"text",name:"search",autoComplete:"off"}),Object(u.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",children:[Object(u.jsxs)("label",{children:[Object(u.jsx)(h.a,{type:"radio",name:"friend",value:"true"}),"followed"]}),Object(u.jsxs)("label",{children:[Object(u.jsx)(h.a,{type:"radio",name:"friend",value:"false"}),"unfollowed"]}),Object(u.jsxs)("label",{children:[Object(u.jsx)(h.a,{type:"radio",name:"friend",value:"null"}),"all"]})]}),Object(u.jsx)("button",{type:"submit",disabled:n,children:"Find"}),Object(u.jsx)("button",{onClick:function(e){return function(e,n){e.preventDefault(),n("search",""),n("friend","null"),t({term:"",friend:null},1)}(e,r)},children:"Clear"})]})}})})),P=n(51),w=n(37),y=n(445),_=n.n(y),C=n(375),S=c.a.memo((function(e){var t=e.user,n=e.unfollow,r=e.follow,i=e.followingInProgress,c=e.isAuth,o=function(e){e(t.id)};return Object(u.jsxs)("li",{children:[Object(u.jsx)(w.c,{to:"/profile/".concat(t.id),children:Object(u.jsx)("img",{className:_.a.userIcon,src:t.photos.small?t.photos.small:C.a,alt:""})}),Object(u.jsx)("span",{children:t.name}),Object(u.jsx)("div",{children:"authorized"===c&&(t.followed?Object(u.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){o(n)},children:"Unfollow"}):Object(u.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){o(r)},children:"Follow"}))})]})})),F=c.a.memo((function(){var e=Object(o.d)(f),t=Object(o.d)(O),n=Object(o.d)(P.c),r=Object(o.d)(m),i=Object(o.c)(),c=function(e){return i(Object(s.c)(e))},a=function(e){return i(Object(s.e)(e))};return Object(u.jsxs)("div",{children:[r.onFollowUnfollowErrorMessage?Object(u.jsx)("div",{children:r.onFollowUnfollowErrorMessage}):null,Object(u.jsx)("ul",{children:e.map((function(e){return Object(u.jsx)(S,{user:e,unfollow:a,follow:c,followingInProgress:t,isAuth:n},e.id)}))})]})})),k=n(10),I=n(446),M=n.n(I),N=n(364),z=n.n(N),E=c.a.memo((function(e){for(var t=e.totalCount,n=e.pageSize,c=e.currentPage,o=e.portionSize,s=void 0===o?10:o,a=e.setCurrentPage,l=(e.filter,Math.floor((c-1)/s)+1),j=Object(i.useState)(l),f=Object(r.a)(j,2),d=f[0],b=f[1],g=Math.ceil(t/n),p=[],O=1;O<=g;O++)p.push(O);var m=Math.ceil(g/s),x=(d-1)*s+1,h=d*s;return Object(u.jsx)(u.Fragment,{children:g>1?Object(u.jsxs)("div",{className:M.a.pagination,children:[d>1&&Object(u.jsx)("button",{onClick:function(){return b(d-1)},children:"PREV"}),Object(u.jsx)("ul",{className:M.a.paginationList,children:p.filter((function(e){return e>=x&&e<=h})).map((function(e){return Object(u.jsx)("li",{className:z()(M.a.pageItem,Object(k.a)({},M.a.selectedPage,e===c)),onClick:function(){a(e)},children:e},e)}))}),d<m&&Object(u.jsx)("button",{onClick:function(){return b(d+1)},children:"NEXT"})]}):null})})),A=c.a.memo((function(){var e=Object(w.d)(),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.d)(x),l=Object(o.d)(b),f=Object(o.d)(d),O=Object(o.d)(g),m=Object(o.d)(p),h=Object(o.c)(),P=function(e,t){return h(s.a.setFilter(e,t))};return Object(i.useEffect)((function(){if(a){!function(e,t,n,r){h(Object(s.d)(e,t,n,r))}(f,O,a.term,a.friend);var e={};a.term&&(e.term=a.term),"boolean"===typeof a.friend&&(e.friend=String(a.friend)),O>1&&(e.page=String(O)),c(e)}}),[a,O]),Object(i.useEffect)((function(){if(!a){var e=n.get("term")||"",t="true"===n.get("friend")||"false"!==n.get("friend")&&null,r=n.get("page")||"1";P({term:e,friend:t},+r)}return function(){P({term:"",friend:null},1)}}),[]),Object(u.jsx)(u.Fragment,{children:a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{filter:a,setFilter:P}),m?Object(u.jsx)(j,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E,{totalCount:l,pageSize:f,currentPage:O,setCurrentPage:function(e){return h(s.a.setCurrentPage(e))},portionSize:20,filter:a}),Object(u.jsx)(F,{})]})]}):null})}));t.default=A}}]);
//# sourceMappingURL=7.917630e7.chunk.js.map