(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{186:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var a=r(232),s=(a.a.arrayInsert,a.a.arrayMove,a.a.arrayPop,a.a.arrayPush,a.a.arrayRemove,a.a.arrayRemoveAll,a.a.arrayShift,a.a.arraySplice,a.a.arraySwap,a.a.arrayUnshift,a.a.autofill,a.a.blur,a.a.change,a.a.clearAsyncError,a.a.clearFields,a.a.clearSubmit,a.a.clearSubmitErrors,a.a.destroy,a.a.focus,a.a.initialize,a.a.registerField,a.a.reset);a.a.resetSection,a.a.setSubmitFailed,a.a.setSubmitSucceeded,a.a.startAsyncValidation,a.a.startSubmit,a.a.stopAsyncValidation,a.a.stopSubmit,a.a.submit,a.a.touch,a.a.unregisterField,a.a.untouch,a.a.updateSyncWarnings,a.a.updateSyncErrors},190:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return l}));var a=r(2),s=r(233),o=(r(0),r(191)),n=r.n(o),u=r(1),c=["input","meta"],i=function(t){var e=t.input,r=t.meta,o=r.touched,i=r.error,l=Object(s.a)(t,c);return Object(u.jsxs)("div",{className:n.a.formControl,children:[Object(u.jsx)("textarea",Object(a.a)(Object(a.a)(Object(a.a)({},e),l),{},{className:o&&i?"".concat(n.a.error," ").concat(n.a.formControlTextarea):n.a.formControlTextarea})),o&&i&&Object(u.jsxs)("span",{className:n.a.errorMessage,children:[" ",i," "]})]})},l=function(t){var e=t.input,r=t.meta,s=r.touched,o=r.error,c=t.type,i=t.label,l="checkbox"===c?n.a.formControlCheckbox:n.a.formControlInput;return Object(u.jsxs)("div",{className:n.a.formControl,children:[Object(u.jsx)("label",{children:i}),Object(u.jsx)("input",Object(a.a)(Object(a.a)({type:c},e),{},{className:s&&o?"".concat(n.a.error," ").concat(l):l})),s&&o&&Object(u.jsxs)("span",{className:n.a.errorMessage,children:[" ",o," "]})]})}},191:function(t,e,r){t.exports={formControl:"FormControls_formControl__2axsW",formControlTextarea:"FormControls_formControlTextarea__5AIlH",formControlInput:"FormControls_formControlInput__gNBr0",formControlCheckbox:"FormControls_formControlCheckbox__2ILOp",error:"FormControls_error__24y5C",errorMessage:"FormControls_errorMessage__NDl_o"}},226:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var a=r(2),s=r(13),o=r(4),n=r(1),u=function(t){return Object(s.b)((function(t){return{isAuth:t.auth.isAuth}}))((function(e){return"notAuthorized"!==e.isAuth||e.userId?Object(n.jsx)(t,Object(a.a)({},e)):Object(n.jsx)(o.a,{to:"/login"})}))}},227:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return o}));var a,s=(a=300,function(t){return t&&t.length>a?"Max length is ".concat(a," symbols"):void 0}),o=function(t){return t?void 0:"Field is required"}},291:function(t,e,r){t.exports={item:"Post_item__ihtu9",avatar:"Post_avatar__1wBwP"}},292:function(t,e,r){t.exports={profileContent:"ProfileInfo_profileContent__uGti0"}},301:function(t,e,r){"use strict";r.r(e);var a=r(2),s=r(34),o=r(35),n=r(37),u=r(36),c=r(0),i=r.n(c),l=r(13),d=r(24),j=r(186),b=r(226),f=r(4),p=r(1),m=function(t){return t.auth},h=r(63),O=function(t){return t.profilePage.userProfile},x=function(t){return t.profilePage.userStatus},v=function(t){return t.profilePage.posts},g=r(199),C=r(200),y=r(227),S=r(190),I=Object(C.a)({form:"profileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(p.jsxs)("form",{onSubmit:e,children:[Object(p.jsx)(g.a,{name:"newPost",component:S.b,placeholder:"Enter your post",validate:[y.b,y.a]}),Object(p.jsx)("button",{children:"Add"})]})})),P=r(291),_=r.n(P),F=function(t){return Object(p.jsxs)("li",{className:_.a.item,children:[Object(p.jsx)("img",{className:_.a.avatar,src:"https://\u0441\u043a\u0430\u0447\u0430\u0442\u044c-\u0432\u0430\u0442\u0441\u0430\u043f-\u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e.\u0440\u0443\u0441/wp-content/uploads/2018/10/kartinka-na-avatar-dlya-devushki-9.jpg"}),t.message,Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:t.likeCount}),Object(p.jsx)("button",{children:"Like"})]})]})},k=function(t){var e=t.posts,r=t.addPost,a=t.resetForm;console.log("MyPosts");var s=e.map((function(t){return Object(p.jsx)(F,{message:t.message,likeCount:t.likesCount},t.id)}));return Object(p.jsxs)("div",{children:[Object(p.jsx)(I,{onSubmit:function(t){r(t.newPost),a("profileAddNewPostForm")}}),Object(p.jsx)("ul",{children:s})]})},A=i.a.memo(k),N=r(44),w=r(292),M=r.n(w),E=r(18),T=function(t){var e=Object(c.useState)(!1),r=Object(E.a)(e,2),a=r[0],s=r[1],o=Object(c.useState)(t.status),n=Object(E.a)(o,2),u=n[0],i=n[1];Object(c.useEffect)((function(){i(t.status)}),[t.status]);return Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),t.setStatus(u)},onChange:function(t){return i(t.target.value)},type:"text",value:null===u?"":u}):Object(p.jsx)("span",{onDoubleClick:function(){t.myId===t.userId&&s(!0)},children:t.status||"---"})})},z=function(t){var e=t.userProfile,r=t.userStatus,a=t.setStatus,s=t.userId,o=t.myId;return console.log("ProfileInfo"),Object(p.jsx)(p.Fragment,{children:e?Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:M.a.profileContent,children:[Object(p.jsx)("img",{src:e.photos.large,alt:"Avatar"}),Object(p.jsx)("h2",{children:e.fullName}),Object(p.jsx)(T,{status:r,setStatus:a,userId:s,myId:o}),Object(p.jsx)("p",{children:e.aboutMe})]})}):Object(p.jsx)(N.a,{})})},B=function(t){var e=t.userId,r=t.auth,a=t.userProfile,s=t.userStatus,o=t.myId,n=t.getProfile,u=t.getStatus,c=t.setStatus,i=t.posts,l=t.reset,d=t.addPostAC;return console.log("Profile"),Object(p.jsxs)("div",{children:[Object(p.jsx)(z,{userId:e,myId:o,userProfile:a,userStatus:s,auth:r,getProfile:n,getStatus:u,setStatus:c}),Object(p.jsx)(A,{posts:i,resetForm:l,addPost:d})]})},D=function(t){Object(n.a)(r,t);var e=Object(u.a)(r);function r(){return Object(s.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"componentDidMount",value:function(){if(this.userId=this.props.userId,!this.userId){var t=this.props.auth,e=t.isAuth,r=t.id;"authorized"===e&&(this.userId=r)}this.props.getProfile(this.userId),this.props.getStatus(this.userId)}},{key:"render",value:function(){return window.props.push(this.props.posts),console.log("ProfileContainer"),Object(p.jsx)(B,Object(a.a)(Object(a.a)({},this.props),{},{userId:this.userId,myId:this.props.auth.id}))}}]),r}(i.a.Component);e.default=Object(d.d)(Object(l.b)((function(t){return{userProfile:O(t),userStatus:x(t),auth:m(t),posts:v(t)}}),{getProfile:h.c,getStatus:h.d,setStatus:h.e,reset:j.a,addPostAC:h.a}),(function(t){return function(e){var r=Object(f.h)().userId;return Object(p.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{userId:r}))}}),b.a)(D)}}]);
//# sourceMappingURL=5.4cba0b25.chunk.js.map