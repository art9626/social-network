(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{231:function(e,t,n){"use strict";t.a=n.p+"static/media/user-icon.506e3070.jpeg"},292:function(e,t,n){e.exports={userIcon:"UserCard_userIcon__3X0ty"}},293:function(e,t,n){e.exports={pagination:"Pagination_pagination__1KkdA",paginationList:"Pagination_paginationList__2NJHl",pageItem:"Pagination_pageItem__2MtXm",selectedPage:"Pagination_selectedPage__CblSr"}},300:function(e,t,n){"use strict";n.r(t);var r=n(6),s=n.n(r),o=n(11),a=n(39),i=n(40),c=n(42),u=n(41),l=n(0),p=n.n(l),h=n(20),g=n(75),f=n(12),j=n(292),d=n.n(j),b=n(231),P=n(2),m=function(e){var t=e.user,n=e.unfollow,r=e.follow,s=e.followingInProgress,o=e.isAuth;return Object(P.jsxs)("li",{children:[Object(P.jsx)(f.b,{to:"/profile/".concat(t.id),children:Object(P.jsx)("img",{className:d.a.userIcon,src:t.photos.small?t.photos.small:b.a,alt:""})}),Object(P.jsx)("span",{children:t.name}),"authorized"===o&&(t.followed?Object(P.jsx)("button",{disabled:s.some((function(e){return e===t.id})),onClick:function(){return n(t.id)},children:"Unfollow"}):Object(P.jsx)("button",{disabled:s.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Follow"}))]})},O=function(e){var t=e.users,n=e.unfollow,r=e.follow,s=e.followingInProgress,o=e.isAuth;return Object(P.jsx)("div",{children:Object(P.jsx)("ul",{children:t.map((function(e){return Object(P.jsx)(m,{user:e,unfollow:n,follow:r,followingInProgress:s,isAuth:o},e.id)}))})})},C=n(50),x=function(e){return e.usersPage.items},w=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalCount},v=function(e){return e.usersPage.currentPage},I=function(e){return e.usersPage.isFetching},k=function(e){return e.usersPage.followingInProgress},_=n(23),z=n(293),V=n.n(z),A=function(e){for(var t=e.totalCount,n=e.pageSize,r=e.currentPage,s=e.onPageClick,o=e.portionSize,a=void 0===o?10:o,i=Math.ceil(t/n),c=[],u=1;u<=i;u++)c.push(u);var p=Object(l.useState)(1),h=Object(_.a)(p,2),g=h[0],f=h[1],j=Math.ceil(i/a),d=(g-1)*a+1,b=g*a;return Object(P.jsxs)("div",{className:V.a.pagination,children:[g>1&&Object(P.jsx)("button",{onClick:function(){return f(g-1)},children:"PREV"}),Object(P.jsx)("ul",{className:V.a.paginationList,children:c.filter((function(e){return e>=d&&e<=b})).map((function(e){return Object(P.jsx)("li",{className:e===r?"".concat(V.a.pageItem," ").concat(V.a.selectedPage):V.a.pageItem,onClick:function(){return s(e)},children:e},e)}))}),g<j&&Object(P.jsx)("button",{onClick:function(){return f(g+1)},children:"NEXT"})]})},L=function(e){var t=e.onChangeSearch,n=e.onClearSearch,r=e.searchValue;return Object(P.jsxs)("div",{children:[Object(P.jsx)("input",{onChange:t,value:r,type:"text"}),Object(P.jsx)("button",{onClick:n,children:"Clear"})]})},U=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onPageClick=function(e){r.props.getUsersList(r.props.pageSize,e,r.state.searchValue)},r.onChangeSearch=function(e){clearTimeout(r.timerId),r.setState({searchValue:e.target.value}),r.timerId=setTimeout((function(){r.props.getUsersList(r.props.pageSize,1,r.state.searchValue)}),300)},r.onClearSearch=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({searchValue:""});case 2:r.props.getUsersList(r.props.pageSize,r.props.currentPage,r.state.searchValue);case 3:case"end":return e.stop()}}),e)}))),r.timerId=null,r.state={searchValue:""},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersList(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(L,{onChangeSearch:this.onChangeSearch,onClearSearch:this.onClearSearch,searchValue:this.state.searchValue}),Object(P.jsx)(A,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageClick:this.onPageClick,portionSize:20}),this.props.isFetching?Object(P.jsx)(C.a,{}):Object(P.jsx)(O,{users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,isAuth:this.props.isAuth})]})}}]),n}(p.a.Component);t.default=Object(h.b)((function(e){return{users:x(e),pageSize:w(e),totalCount:S(e),currentPage:v(e),isFetching:I(e),followingInProgress:k(e),isAuth:e.auth.isAuth}}),{follow:g.b,unfollow:g.d,getUsersList:g.c})(U)}}]);
//# sourceMappingURL=6.79bfb424.chunk.js.map